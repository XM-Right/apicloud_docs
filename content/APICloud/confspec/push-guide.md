/*
Title: 推送技术指南
Description: 推送技术指南
Sort: 10
*/


[推送准备](#1)
- [iOS推送证书](#2)
- [iOS推送设置](#3)

[新建推送消息](#4)
- [及时通知](#5)
- [定时通知](#6)

[查看推送统计](#7)
- [推送概览](#8)
- [推送记录](#9)

[接收推送消息](#10)
- [push模块](#11)
- [绑定推送](#12)
- [设置群组](#13)
- [获取推送消息](#14)

#**推送准备**<div id="1"></div>

##iOS推送证书<div id="2"></div>

- 申请证书

iOS推送证书需要从苹果开发网站上面创建，然后再转换成服务器端专用p12格式证书，详情参考[iOS证书申请教程](http://docs.apicloud.com/APICloud/%E6%8A%80%E6%9C%AF%E4%B8%93%E9%A2%98/iOS-License-Application-Guidance)
 
##iOS推送设置<div id="3"></div>
进入APICloud官网你的应用页面，在侧边栏‘应用服务’里面选择‘推送’，然后在页面里选择右上角的设置按钮，弹出推送证书设置页面，注意开启状态，然后上传之前创建的推送证书，并且输入密码，保存。同时，在此页面还可以设置离线消息的保存时间，之前未收到通知的设备在离线消息设定时间以内上线后会收到通知消息。

![图片说明](/img/docImage/6.png)
 
#**新建推送消息**<div id="4"></div>

##及时通知<div id="5"></div>

选择右上角的新建推送，在展开的发送页面中，选择推送类型是通知或消息，输入标题和内容，选择推送群组和平台，点击发送，通知将立即进入发送状态。

![图片说明](/img/docImage/7.png)
 
##定时通知<div id="6"></div>

设定了定时通知以后，服务器会在指定的时间点向设备发送推送消息。

![图片说明](/img/docImage/8.png)
 
#**查看推送统计**<div id="7"></div>

##推送概览<div id="8"></div>

在推送页面的顶部‘推送概览’页，可以查看到推送条数和终端数目等相关数据。

![图片说明](/img/docImage/9.png)
 
##推送记录<div id="9"></div>

在推送概览下面是推送记录页面，包括定时发送、正在发送和发送成功等状态的推送消息记录，同时可以对推送数据进行重发以及删除等。

![图片说明](/img/docImage/12.png)

#**接收推送消息**<div id="10"></div>

##push模块<div id="11"></div>

在APICloud网站上面创建应用时，push模块默认已经被引入，客户端是否使用推送、推送设置、以及获取推送消息等都需要使用push模块，详情参考pushRef文档。

##绑定推送<div id="12"></div>

push模块提供了bind方法，将来自业务系统的用户信息绑定至推送服务器，如果不需要关联业务系统用户信息，则可以不调用bind方法。详情参考pushRef文档bind方法。

##设置群组<div id="13"></div>

设备需要绑定到相应的群组才能收到推送消息，在应用启动时，APICloud会自动绑定设备到默认群组，push模块的joinGroup方法可以将设备添加到指定群组，leavelGroup则将设备从指定群组中移除。详情参考pushRef文档joinGroup、leavelGroup方法。

##获取推送消息<div id="14"></div>

push模块提供setListener方法，当通知消息到达时会通过此方法回调给前端页面，所有未处理的消息会被添加到一个数组里面返回。详情参考pushRef文档setListener方法。
注：只有网站上面新建通知时选择的类型为消息时，push模块才会把内容传递给前端页面。
